<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç™»å…¥ - æ°¸æ†åœ–æ›¸é¤¨</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@400;500;600;700&family=Noto+Sans+TC:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/tokens.css">
    <link rel="stylesheet" href="../css/base.css">
    <link rel="stylesheet" href="../css/components.css">
    <link rel="stylesheet" href="../css/utilities.css">
    <link rel="stylesheet" href="../css/pages.css">
    <style>
        body {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: var(--space-8);
        }
    </style>
</head>
<body>
    <div class="login-container animate-fade-in">
        <div class="login-logo-section">
            <div class="login-logo">L</div>
            <h1 class="login-title">æ°¸æ†åœ–æ›¸é¤¨</h1>
            <p class="login-subtitle">æ¢ç´¢æ™ºæ…§çš„æ®¿å ‚ï¼Œæ”¶è—æ°¸æ†çš„ç­”æ¡ˆ</p>
        </div>

        <div class="card">
            <h2 class="card-title">é€£æ¥éŒ¢åŒ…</h2>
            <p class="card-body" style="margin-bottom: var(--space-8);">
                é¸æ“‡æ‚¨çš„ IOTA éŒ¢åŒ…ä»¥é–‹å§‹æ¢ç´¢åœ–æ›¸é¤¨
            </p>

            <div class="wallet-options">
                <button class="wallet-button" data-wallet="iota">
                    <div class="wallet-icon">I</div>
                    <div style="flex: 1; text-align: left;">
                        <div class="wallet-name">IOTA Wallet</div>
                        <div class="wallet-desc">å®˜æ–¹éŒ¢åŒ…ï¼ˆæ¨è–¦ï¼‰</div>
                    </div>
                </button>
            </div>

            <div class="text-muted text-sm" style="margin-top: var(--space-4); padding: var(--space-4); background: var(--color-background-elevated); border-radius: var(--radius-sm);">
                ğŸ’¡ <strong>Prototype æ¨¡æ“¬æ¨¡å¼</strong><br>
                æ­¤ç‚ºå‰ç«¯åŸå‹ï¼ŒéŒ¢åŒ…é€£æ¥ç‚ºæ¨¡æ“¬å¯¦ä½œã€‚å¯¦éš›é–‹ç™¼æ™‚å°‡æ•´åˆ @iota/dapp-kitã€‚
            </div>

            <div id="errorMessage" class="hidden" style="margin-top: var(--space-6); padding: var(--space-4); background: rgba(220, 38, 38, 0.1); border: 1px solid var(--color-error); border-radius: var(--radius-sm); color: var(--color-error); font-size: var(--text-sm);">
            </div>

            <p class="text-center text-muted text-sm" style="margin-top: var(--space-8); margin-bottom: 0;">
                é‚„æ²’æœ‰éŒ¢åŒ…ï¼Ÿ<a href="https://chrome.google.com/webstore/detail/iota-wallet" target="_blank" style="color: var(--color-primary);">ä¸‹è¼‰ IOTA Wallet</a>
            </p>
        </div>
    </div>

    <script>
        // æ¨¡æ“¬éŒ¢åŒ…é€£æ¥
        const walletButtons = document.querySelectorAll('.wallet-button');
        const errorMessage = document.getElementById('errorMessage');

        walletButtons.forEach(button => {
            button.addEventListener('click', async function() {
                const wallet = this.dataset.wallet;
                const walletName = this.querySelector('.wallet-name').textContent;

                // ç¦ç”¨æ‰€æœ‰æŒ‰éˆ•
                walletButtons.forEach(btn => {
                    btn.disabled = true;
                    btn.style.opacity = '0.5';
                });

                // æ›´æ–°æŒ‰éˆ•æ–‡å­—
                this.querySelector('.wallet-name').textContent = 'é€£æ¥ä¸­...';

                // æ¨¡æ“¬é€£æ¥å»¶é²
                setTimeout(() => {
                    // æ¨¡æ“¬é€£æ¥æˆåŠŸ (90% æˆåŠŸç‡ï¼ŒåŸå‹æ¼”ç¤ºç”¨)
                    if (Math.random() > 0.1) {
                        console.log(`âœ… IOTA Wallet é€£æ¥æˆåŠŸ`);

                        // å„²å­˜æ¨¡æ“¬çš„éŒ¢åŒ…åœ°å€ï¼ˆIOTA æ ¼å¼ï¼‰
                        const mockAddress = '0x' + Math.random().toString(16).substring(2, 10) + '...' + Math.random().toString(16).substring(2, 6);
                        localStorage.setItem('walletAddress', mockAddress);
                        localStorage.setItem('walletType', 'iota');
                        localStorage.setItem('isSimulated', 'true');

                        // è·³è½‰åˆ°ä¸»é 
                        window.location.href = 'home.html';
                    } else {
                        // æ¨¡æ“¬é€£æ¥å¤±æ•—
                        errorMessage.textContent = 'é€£æ¥å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦';
                        errorMessage.classList.remove('hidden');

                        // æ¢å¾©æŒ‰éˆ•
                        walletButtons.forEach(btn => {
                            btn.disabled = false;
                            btn.style.opacity = '1';
                        });
                        this.querySelector('.wallet-name').textContent = 'IOTA Wallet';
                    }
                }, 1500);
            });
        });

        // æª¢æŸ¥æ˜¯å¦å·²é€£æ¥
        if (localStorage.getItem('walletAddress')) {
            console.log('å·²é€£æ¥éŒ¢åŒ…ï¼Œè·³è½‰åˆ°ä¸»é ');
            // window.location.href = 'home.html';
        }
    </script>
</body>
</html>
